import{j as e}from"./motion-B-6xRUo4.js";import{a as i}from"./leaflet-CO0Iut3d.js";import{T as p,f as u,g as x}from"./index--8hyKBt_.js";import"./charts-ksAtv-L-.js";const d=["Motors","Pump","LIDAR","Camera","Comms","Battery"];function j(){const[l,r]=i.useState({}),[n,o]=i.useState(!1),c=async()=>{if(n)return;o(!0);const t={};for(const s of d)t[s]="running",r({...t}),await new Promise(m=>setTimeout(m,400+Math.random()*600)),t[s]=Math.random()>.08?"ok":"fail",r({...t});o(!1)},a=i.useMemo(()=>({idle:{badge:"ðŸŸ¡ Standby",tone:"text-amber-200/90",description:"Awaiting diagnostic cycle."},running:{badge:"ðŸŸ¡ Scanning",tone:"text-amber-200/90",description:"Running live checksâ€¦"},ok:{badge:"ðŸŸ¢ Active",tone:"text-emerald-200/90",description:"System operating nominally."},fail:{badge:"ðŸ”´ Error",tone:"text-red-200/90",description:"Fault detected â€” review immediately."}}),[]);return e.jsxs("div",{className:"rounded-2xl border border-red-900/40 bg-[#0b1010] p-4 shadow-[0_0_22px_rgba(239,68,68,0.08)]",children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsx("div",{className:"text-xs font-semibold uppercase tracking-widest text-soft",children:"Self-Diagnostics"}),e.jsxs("button",{onClick:c,disabled:n,className:"relative overflow-hidden rounded border border-red-900/40 bg-black/60 px-3 py-1.5 text-xs font-semibold uppercase tracking-[0.25em] text-red-100 transition hover:bg-red-900/30 disabled:cursor-not-allowed disabled:opacity-60",children:[e.jsx("span",{className:n?"animate-pulse":"",children:n?"Scanning":"Run Check"}),n&&e.jsx("span",{className:"absolute inset-0 animate-[pulse_1.5s_linear_infinite] bg-red-500/10","aria-hidden":!0})]})]}),e.jsx("ul",{className:"space-y-2 text-sm",children:d.map(t=>{const s=l[t]||"idle";return e.jsxs("li",{className:"relative overflow-hidden rounded border border-red-900/30 bg-black/40 px-3 py-2 backdrop-blur-sm transition",children:[s==="running"&&e.jsx("span",{className:"absolute inset-x-0 top-0 h-0.5 animate-[pulse_1.2s_ease-in-out_infinite] bg-gradient-to-r from-transparent via-red-400/40 to-transparent"}),e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("span",{className:"text-soft",children:t}),e.jsxs(p,{children:[e.jsx(u,{asChild:!0,children:e.jsxs("span",{className:`flex items-center gap-2 text-[12px] font-semibold uppercase tracking-widest ${a[s].tone}`,children:[e.jsx("span",{className:"indicator-dot"}),a[s].badge]})}),e.jsx(x,{children:a[s].description})]})]})]},t)})})]})}export{j as default};
