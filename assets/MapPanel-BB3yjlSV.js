import{j as e}from"./motion-B-6xRUo4.js";import{a as t,L as V,M as pe,T as he,e as me,f as fe,u as xe}from"./leaflet-CO0Iut3d.js";import{u as Y,a as be,c as ke,P as Q,b as Ae,d as we,e as q,T as X,f as G,g as W,h as J}from"./index-f584ER7f.js";import"./charts-ksAtv-L-.js";const Ne="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcY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",ve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",ye="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";function Se(r){const c=t.useRef({value:r,previous:r});return t.useMemo(()=>(c.current.value!==r&&(c.current.previous=c.current.value,c.current.value=r),c.current.previous),[r])}var F="Switch",[je,Pe]=ke(F),[Me,Ce]=je(F),Z=t.forwardRef((r,c)=>{const{__scopeSwitch:d,name:o,checked:f,defaultChecked:S,required:x,disabled:h,value:b="on",onCheckedChange:w,form:u,...i}=r,[y,j]=t.useState(null),M=Y(c,B=>j(B)),E=t.useRef(!1),R=y?u||!!y.closest("form"):!0,[N,z]=be({prop:f,defaultProp:S??!1,onChange:w,caller:F});return e.jsxs(Me,{scope:d,checked:N,disabled:h,children:[e.jsx(Q.button,{type:"button",role:"switch","aria-checked":N,"aria-required":x,"data-state":te(N),"data-disabled":h?"":void 0,disabled:h,value:b,...i,ref:M,onClick:Ae(r.onClick,B=>{z(P=>!P),R&&(E.current=B.isPropagationStopped(),E.current||B.stopPropagation())})}),R&&e.jsx(ee,{control:y,bubbles:!E.current,name:o,value:b,checked:N,required:x,disabled:h,form:u,style:{transform:"translateX(-100%)"}})]})});Z.displayName=F;var _="SwitchThumb",$=t.forwardRef((r,c)=>{const{__scopeSwitch:d,...o}=r,f=Ce(_,d);return e.jsx(Q.span,{"data-state":te(f.checked),"data-disabled":f.disabled?"":void 0,...o,ref:c})});$.displayName=_;var Ee="SwitchBubbleInput",ee=t.forwardRef(({__scopeSwitch:r,control:c,checked:d,bubbles:o=!0,...f},S)=>{const x=t.useRef(null),h=Y(x,S),b=Se(d),w=we(c);return t.useEffect(()=>{const u=x.current;if(!u)return;const i=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(i,"checked").set;if(b!==d&&j){const M=new Event("click",{bubbles:o});j.call(u,d),u.dispatchEvent(M)}},[b,d,o]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:d,...f,tabIndex:-1,ref:h,style:{...f.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});ee.displayName=Ee;function te(r){return r?"checked":"unchecked"}var re=Z,Re=$;const O=t.forwardRef(({className:r,...c},d)=>e.jsx(re,{className:q("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",r),...c,ref:d,children:e.jsx(Re,{className:q("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));O.displayName=re.displayName;function Le({follow:r,onFollowChange:c,heightClass:d}){const o="/api/gps/stream";t.useMemo(()=>{V.Icon.Default.mergeOptions({iconRetinaUrl:Ne,iconUrl:ve,shadowUrl:ye})},[]);const f=t.useMemo(()=>({lat:30.0444,lng:31.2357}),[]),[S,x]=t.useState(f),[h,b]=t.useState(f),[w,u]=t.useState(!1),[i,y]=t.useState(null),[j,M]=t.useState(null),[E,R]=t.useState(null),[N,z]=t.useState(null),[B,P]=t.useState("unknown"),g=t.useRef(null),[H,se]=t.useState(!1),[T,ae]=t.useState(!0),L=t.useRef(null),[U,K]=t.useState(()=>typeof window>"u"?o:window.localStorage.getItem("augustus-gps-url")??o),[ne,ce]=t.useState(""),[oe,ie]=t.useState(0),C=t.useRef(null);t.useEffect(()=>{typeof window>"u"||window.localStorage.setItem("augustus-gps-url",U.trim()||o)},[U,o]);const le=t.useMemo(()=>V.divIcon({className:"robot-marker-wrapper",html:`
          <div class="robot-marker">
            <div class="robot-marker-ring"></div>
            <div class="robot-marker-body" style="transform: rotate(${N??0}deg);">
              <div class="robot-marker-pointer"></div>
              <div class="robot-marker-core"></div>
            </div>
          </div>
        `,iconSize:[44,44],iconAnchor:[22,22],popupAnchor:[0,-22]}),[N]);t.useEffect(()=>{if(!T){u(!1),g.current!==null&&(navigator.geolocation.clearWatch(g.current),g.current=null);return}if(!("geolocation"in navigator)){u(!1);return}try{navigator.permissions?.query({name:"geolocation"}).then(s=>{P(s.state??"unknown"),s.onchange=()=>P(s.state??"unknown")}).catch(()=>{})}catch{}return(()=>{g.current!==null&&(navigator.geolocation.clearWatch(g.current),g.current=null);let s=!1;g.current=navigator.geolocation.watchPosition(p=>{const{latitude:k,longitude:n,accuracy:l,speed:m,heading:A}=p.coords,v={lat:k,lng:n};y(v),M(Number.isFinite(l)?l:null),R(typeof m=="number"&&Number.isFinite(m)?m:null),z(typeof A=="number"&&Number.isFinite(A)?A:null),u(!0),b(v),(r||!s)&&x(v),s=!0},p=>{u(!1),p.code===p.PERMISSION_DENIED?J.error("Location access denied",{description:"Enable location permissions to use GPS tracking."}):J.warning("Location unavailable",{description:p.message||"Could not acquire GPS fix."})},{enableHighAccuracy:!0,maximumAge:1e3,timeout:15e3})})(),()=>{g.current!==null&&navigator.geolocation.clearWatch(g.current)}},[r,T]),t.useEffect(()=>{if(!H){L.current&&(L.current.close(),L.current=null);return}const a=U.trim()||o,s=new EventSource(a);return L.current=s,s.onmessage=p=>{try{const k=JSON.parse(p.data);if(k?.type==="fix"&&k.fix){const n=k.fix,l={lat:n.lat,lng:n.lng};y(l),M(typeof n.accuracy=="number"?n.accuracy:null),R(typeof n.speed=="number"?n.speed:null),z(typeof n.heading=="number"?n.heading:null),u(!0),b(l),r&&x(l)}}catch{}},s.onerror=()=>{},()=>s.close()},[H,r,U,o]);async function de(){if(!(!("geolocation"in navigator)||!T))try{const a=Date.now(),s=25;for(;Date.now()-a<2e4;){const p=await new Promise((I,D)=>{navigator.geolocation.getCurrentPosition(I,D,{enableHighAccuracy:!0,maximumAge:0,timeout:8e3})}),{latitude:k,longitude:n,accuracy:l,speed:m,heading:A}=p.coords,v={lat:k,lng:n};if(y(v),M(Number.isFinite(l)?l:null),R(typeof m=="number"&&Number.isFinite(m)?m:null),z(typeof A=="number"&&Number.isFinite(A)?A:null),u(!0),b(v),x(v),l&&l<=s)break}g.current!==null&&(navigator.geolocation.clearWatch(g.current),g.current=null),g.current=navigator.geolocation.watchPosition(()=>{},()=>{},{enableHighAccuracy:!0,maximumAge:1e3,timeout:15e3})}catch(a){J.error("Unable to get precise location",{description:a?.message||String(a)})}}t.useEffect(()=>{if(i)return C.current&&(window.clearTimeout(C.current),C.current=null),C.current=window.setTimeout(async()=>{try{const a=await fetch(`/api/reverse?lat=${i.lat}&lng=${i.lng}`);if(a.ok){const s=await a.json();ce(s?.displayName||"")}}catch{}},600),()=>{C.current&&(window.clearTimeout(C.current),C.current=null)}},[i?.lat,i?.lng]),t.useEffect(()=>{if(w)return;const a=setInterval(()=>{b(s=>{const p=Math.random()*5e-4-25e-5,k=Math.random()*5e-4-25e-5,n={lat:s.lat+p,lng:s.lng+k};r&&x(n);const l=s.lat*Math.PI/180,m=n.lat*Math.PI/180,A=(n.lng-s.lng)*Math.PI/180;if(p!==0||k!==0){const v=Math.sin(A)*Math.cos(m),I=Math.cos(l)*Math.sin(m)-Math.sin(l)*Math.cos(m)*Math.cos(A),ge=(Math.atan2(v,I)*180/Math.PI+360)%360;z(ge)}return n})},900);return()=>clearInterval(a)},[r,w]);function ue({center:a}){const s=xe();return t.useEffect(()=>{s.flyTo([a.lat,a.lng],s.getZoom(),{animate:!0,duration:.8})},[a.lat,a.lng,s]),null}return e.jsxs("div",{className:"relative rounded-2xl border border-red-900/40 bg-[#0b1010] shadow-[0_0_24px_rgba(239,68,68,0.08)]",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 border-b border-red-900/40 px-4 py-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-sm font-semibold uppercase tracking-widest text-soft",children:"Map Tracking"}),e.jsx("div",{className:`indicator-dot ${w?"bg-emerald-400":"bg-red-500"}`,"aria-hidden":!0}),e.jsx("span",{className:"text-xs uppercase tracking-widest text-gray-300/80",children:w&&i?"GPS Link Stable":"Awaiting Fix"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-gray-300/70",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{checked:T,onCheckedChange:ae,"aria-label":"Toggle onboard GPS"}),e.jsx("span",{className:"uppercase tracking-[0.25em] text-soft",children:"GPS"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{checked:H,onCheckedChange:se,"aria-label":"Toggle phone GPS stream"}),e.jsx("span",{className:"uppercase tracking-[0.25em] text-soft",children:"Phone GPS"})]}),e.jsxs(X,{children:[e.jsx(G,{asChild:!0,children:e.jsx("button",{onClick:()=>c(!r),className:`rounded border px-3 py-1.5 uppercase tracking-[0.25em] transition ${r?"border-red-500/70 bg-red-700/30 text-red-100":"border-red-900/40 bg-black/60 text-red-100"}`,children:r?"Following":"Follow"})}),e.jsx(W,{children:"Automatically pan with robot motion"})]}),e.jsxs(X,{children:[e.jsx(G,{asChild:!0,children:e.jsx("button",{onClick:()=>ie(a=>a+1),className:"rounded border border-red-900/40 bg-black/60 px-3 py-1.5 uppercase tracking-[0.25em] text-red-100 transition hover:bg-red-900/30",children:"Refresh Tiles"})}),e.jsx(W,{children:"Reload map tiles and reposition view."})]}),!w&&T&&e.jsx("button",{onClick:de,className:"rounded border border-emerald-500/40 bg-emerald-900/20 px-3 py-1.5 uppercase tracking-[0.25em] text-emerald-100 transition hover:bg-emerald-900/30",children:"Boost Fix"})]})]}),e.jsx("div",{className:"border-b border-red-900/40 px-4 pb-3",children:e.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[e.jsx("label",{className:"text-[10px] uppercase tracking-[0.32em] text-red-200/70 sm:w-40",children:"GPS Network URL"}),e.jsxs("div",{className:"flex w-full gap-2",children:[e.jsx("input",{value:U,onChange:a=>K(a.target.value),spellCheck:!1,className:"min-w-0 flex-1 rounded-lg border border-red-900/40 bg-black/40 px-3 py-2 text-[10px] uppercase tracking-[0.25em] text-red-100 outline-none transition focus:border-red-500 focus:ring-1 focus:ring-red-500",placeholder:"http://192.168.x.x:3000/api/gps/stream"}),e.jsx("button",{type:"button",onClick:()=>K(o),className:"rounded-lg border border-red-900/40 bg-black/60 px-3 py-2 text-[10px] font-semibold uppercase tracking-[0.25em] text-red-100 transition hover:bg-red-900/30",children:"Reset"})]})]})}),e.jsxs("div",{className:"p-3",children:[e.jsx("div",{className:`${d??"h-[320px]"} w-full overflow-hidden rounded-xl border border-red-900/40`,children:e.jsxs(pe,{center:[S.lat,S.lng],zoom:15,style:{width:"100%",height:"100%"},attributionControl:!1,scrollWheelZoom:!0,zoomAnimation:!0,animate:!0,children:[e.jsx(he,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"}),e.jsx(me,{position:[h.lat,h.lng],icon:le,children:e.jsx(fe,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-xs font-semibold text-red-800",children:"AFR Position"}),e.jsxs("div",{className:"text-[11px] text-red-900/80",children:[h.lat.toFixed(5),", ",h.lng.toFixed(5)]})]})})}),e.jsx(ue,{center:S})]},oe)}),e.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-[11px] uppercase tracking-widest text-gray-300/80 md:grid-cols-4",children:[e.jsxs("div",{className:"rounded border border-red-900/30 bg-black/40 px-3 py-2",children:["Lat ",e.jsx("span",{className:"text-soft",children:i?i.lat.toFixed(6):"-"})]}),e.jsxs("div",{className:"rounded border border-red-900/30 bg-black/40 px-3 py-2",children:["Lng ",e.jsx("span",{className:"text-soft",children:i?i.lng.toFixed(6):"-"})]}),e.jsxs("div",{className:"rounded border border-red-900/30 bg-black/40 px-3 py-2",children:["Accuracy ",e.jsx("span",{className:"text-soft",children:j?`${Math.round(j)} m`:"-"})]}),e.jsxs("div",{className:"rounded border border-red-900/30 bg-black/40 px-3 py-2",children:["Speed ",e.jsx("span",{className:"text-soft",children:typeof E=="number"?`${(E||0).toFixed(1)} m/s`:"-"})]}),e.jsxs("div",{className:"rounded border border-red-900/30 bg-black/40 px-3 py-2",children:["Heading ",e.jsx("span",{className:"text-soft",children:typeof N=="number"?`${Math.round(N)}Â°`:"-"})]}),e.jsxs("div",{className:"rounded border border-red-900/30 bg-black/40 px-3 py-2",children:["Permission ",e.jsx("span",{className:"text-soft",children:B})]}),e.jsxs("div",{className:"col-span-2 rounded border border-red-900/30 bg-black/40 px-3 py-2 md:col-span-4",children:["Address ",e.jsx("span",{className:"text-soft",children:ne||"-"})]})]})]})]})}export{Le as default};
